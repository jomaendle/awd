<ng-container *ngrxLet="location$; let location">
  <ng-container *ngrxLet="weather$; let weather">
    <ng-container *ngIf="weather && location">
      <div class="header">
        <div class="weather-preview">
          <img src="{{ weather.condition.icon }}" />
          <span>{{ weather.condition.text }}</span>
        </div>
        <h1>{{ weather.temp_c }} Â°C</h1>
        <h1>
          {{ location.name }}
        </h1>
      </div>

      <div class="details">

        <div class="weather-details">
          <p>ğŸ«£ Feels like: {{ weather.feelslike_c }}Â°C</p>
          <p>ğŸ’§ Humidity: {{ weather.humidity }}%</p>
          <p>ğŸŒ¬ Wind (kph): {{ weather.wind_kph }}</p>
        </div>

        <div class="location-details">
          <p>
            ğŸ“ {{ location.country }}, {{ location.region }}
          </p>
          <p> ğŸ“… {{ location.localtime | date: "medium" }}</p>
        </div>

      </div>

      <iframe [src]="getSafeUrl(location.lat, location.lon)">
      </iframe>
    </ng-container>
  </ng-container>
</ng-container>


